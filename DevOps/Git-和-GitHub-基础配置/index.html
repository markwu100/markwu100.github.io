<!DOCTYPE HTML>
<html lang="null">
<head><meta name="generator" content="Hexo 3.8.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="Cloud Service一站通">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <link rel="dns-prefetch" href="http://blog.ozairs.com">
    <!--SEO-->

    <meta name="keywords" content="git">


    <meta name="description" content="前言在本系列的第一篇文章中着重介绍了 Git 的基础特性。本文作为本系列的第二篇文章将介绍 Git 和 GitHub 的基础配置，包括 Git 安装、使用 Git 克隆 GitHub 上的代码库...">



<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">

    <!--Title-->


<title>Git 和 GitHub 基础配置 | Cloud Service一站通</title>


    <link rel="alternate" href="/atom.xml" title="Cloud Service一站通" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
		<script type="text/javascript">
			var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan class='cnzz_stat_icon_1263868967 hide' %3E%3Cscript%20src%3D%22https%3A%2F%2Fs95.cnzz.com%2Fz_stat.php%3Fweb_id%3D1272564536%22%3E%3C%2Fscript%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1263868967%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
		</script>
	</div>





	<script>
		(function(i, s, o, g, r, a, m) {
		    i['GoogleAnalyticsObject'] = r;
		    i[r] = i[r] || function() {
		        (i[r].q = i[r].q || []).push(arguments)
		    }, i[r].l = 1 * new Date();
		    a = s.createElement(o),
		    m = s.getElementsByTagName(o)[0];
		    a.async = 1;
		    a.src = g;
		    m.parentNode.insertBefore(a, m)
		})(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
		ga('create', 'UA-136105852-1', 'auto');
		ga('send', 'pageview');
	</script>


    

</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header">
    <div class="main-header-box">
        <a class="header-avatar" href="/" title="Mark Wu">
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
        	<!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
                 <img src="/img/branding.png" alt="Snippet 博客主题" class="img-responsive center-block">
            
    	</div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://blog.ozairs.com">Cloud Service一站通</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>Main</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/AWS"><i class="fa "></i>AWS</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/Ansible"><i class="fa "></i>Ansible</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/Cloud-Service"><i class="fa "></i>Cloud Service</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/Security"><i class="fa "></i>Security</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/DevOps"><i class="fa "></i>DevOps</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/Docker"><i class="fa "></i>Docker</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/Jenkins"><i class="fa "></i>Jenkins</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/Kubernetes"><i class="fa "></i>Kubernetes</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/Python"><i class="fa "></i>Python</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/Terraform"><i class="fa "></i>Terraform</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/archives/"><i class="fa "></i>Archives</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="https://156709406.gitbook.io/markwu100/"><i class="fa "></i>《Go Terraform》Chinese Version</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="Git 和 GitHub 基础配置">
            
	            Git 和 GitHub 基础配置
            
        </h1>
        <div class="post-meta">
    
        <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
            <a class="category-link" href="/categories/DevOps/">DevOps</a>
        </span>
    

    
        <span class="fa-wrap">
            <i class="fa fa-tags"></i>
            <span class="tags-meta">
                
                    <a class="tag-link" href="/tags/git/">git</a>
                
            </span>
        </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2019/03/13</span>
        </span>
        
    
</div>
            
            
            <p class="fa fa-exclamation-triangle warning">
                本文于<strong>376</strong>天之前发表，文中内容可能已经过时。
            </p>
        
    </div>
    
    <div class="post-body post-content">
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在本系列的<a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-git-and-github-1/index.html" target="_blank" rel="noopener">第一篇</a>文章中着重介绍了 Git 的基础特性。本文作为本系列的第二篇文章将介绍 Git 和 GitHub 的基础配置，包括 Git 安装、使用 Git 克隆 GitHub 上的代码库、使用 Git 克隆远端代码仓库、Git 的基本配置和设置忽略提交规则。您在阅读完本文将有能力完成本地 Git 环境的基础配置，为接下来的 Git 日常使用做基础。</p>
<p>GitHub 是一个代码托管平台，如果开发者想要在本地进行开发工作，那么就需要使用到 Git 的客户端工具来连接到 GitHub，再克隆代码到本地。如果您是重度的 GUI 使用者，那么有很多 GUI 客户端可以选择，在 Git 的官网就专门有个页面列出了业内的<a href="https://git-scm.com/downloads/guis/" target="_blank" rel="noopener"> GUI 客户端</a>。</p>
<p>但遗憾的是往往 GUI 客户端只能提供 Git 部分的功能，如果想要享受到 Git 自底向上强大的功能，使用命令行的方式来操作 Git 是不二之选。建议无论您是否擅长使用命令行工作，都可以尝试使用命令行方式来操作 Git。本文将只介绍如何从命令行来连接到 GitHub。</p>
<h2 id="安装-Git"><a href="#安装-Git" class="headerlink" title="安装 Git"></a>安装 Git</h2><p>使用命令行方式操作 Git 工具，需要本地安装 Git。注意，这里没有使用 “Git 客户端” 一词，因为 Git 作为一个开源版本控制系统，本身既可以作为客户端工具，也可以用于建立服务器端代码库，所以本质上 Git 作为工具来讲没有客户端和服务器端之分。</p>
<p>本地安装 Git 十分简单。</p>
<p>对于 Windows 用户，可以下载 <a href="https://gitforwindows.org/" target="_blank" rel="noopener">Git For Windows</a> 工具。下载安装成功之后，我们可以得到一个 Git Bash 工具，它是一个类 Linux Bash 工具。在该工具中我们可以直接执行 Git 相关命令。</p>
<p>对于 Mac 和 Linux 用户，只需通过对应的包管理工具安装即可，如清单 1 所示：</p>
<h5 id="清单-1-Mac-和-Linux-下安装-Git"><a href="#清单-1-Mac-和-Linux-下安装-Git" class="headerlink" title="清单 1. Mac 和 Linux 下安装 Git"></a>清单 1. Mac 和 Linux 下安装 Git</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`$ brew install git         # For Mac``$ apt-get install git      # For Ubuntu``# yum install git          # For RedHat EL, CentOS`</span><br></pre></td></tr></table></figure>
<h2 id="使用-Git-克隆-GitHub-代码库"><a href="#使用-Git-克隆-GitHub-代码库" class="headerlink" title="使用 Git 克隆 GitHub 代码库"></a>使用 Git 克隆 GitHub 代码库</h2><p>安装 Git 成功之后，我们就可以使用 Git 克隆 GitHub 上的代码库，本节仍然以我的代码库<a href="https://github.com/caozhi/repo-for-developerworks" target="_blank" rel="noopener"> repo-for-developerworks </a>为例。</p>
<p>GitHub 提供了两种克隆方式：HTTPS 和 SSH。我们可以点击仓库页面上的 <strong>Clone or download</strong> 按钮来查看用于克隆的链接，同时可以点击浮动框右上角的 <strong>Use SSH/Use HTTPS</strong> 换我们想要克隆的 link，如图 2 和 图 3 所示。注意，这里只是切换查看不同的链接，而不是设置代码库不同的链接方式。</p>
<p>由此我们可以获得两个 URL：</p>
<ul>
<li>HTTPS 链接：<code>https://github.com/caozhi/repo-for-developerworks.git</code></li>
<li>SSH 链接：<a href="mailto:`git@github.com" target="_blank" rel="noopener">`git@github.com</a>:caozhi/repo-for-developerworks.git`</li>
</ul>
<h3 id="使用-HTTPS-进行克隆"><a href="#使用-HTTPS-进行克隆" class="headerlink" title="使用 HTTPS 进行克隆"></a>使用 HTTPS 进行克隆</h3><p>由于代码库是开放的，因此使用 HTTPS 方式克隆时，无需 GitHub 用户名密码，如清单 2 所示：</p>
<h5 id="清单-2-使用-HTTPS-进行克隆"><a href="#清单-2-使用-HTTPS-进行克隆" class="headerlink" title="清单 2. 使用 HTTPS 进行克隆"></a>清单 2. 使用 HTTPS 进行克隆</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`caozhi@ clone$ git clone https://github.com/caozhi/repo-for-developerworks.git``Cloning into &apos;repo-for-developerworks&apos;...``remote: Counting objects: 14, done.``remote: Compressing objects: 100% (9/9), done.``remote: Total 14 (delta 3), reused 5 (delta 1), pack-reused 0``Unpacking objects: 100% (14/14), done.`</span><br></pre></td></tr></table></figure>
<p>顺便提一下，进行 pull 和 fetch 操作时也无需用户名密码认证。因为 GitHub 的机制允许随意免费下载任何公开的代码库，如若要 push 代码需经过认证或者经过作者同意才可。当要进行 push 时，会出现提示要求输入用户名密码，如清单 3 所示：</p>
<h5 id="清单-3-HTTPS-方式下-push-代码"><a href="#清单-3-HTTPS-方式下-push-代码" class="headerlink" title="清单 3. HTTPS 方式下 push 代码"></a>清单 3. HTTPS 方式下 push 代码</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`caozhi@ repo-for-developerworks$ echo change &gt;&gt; README.md   ## make some modification``caozhi@ repo-for-developerworks$ git add .``caozhi@ repo-for-developerworks$ git commit -m &quot;changes&quot;``[master d774ecf] changes`` ``1 file changed, 1 insertion(+)``caozhi@ repo-for-developerworks$ git push``Username for &apos;https://github.com&apos;: caozhi0321@gmail.com    ## Enter GitHub account name``Password for &apos;https://caozhi0321@gmail.com@github.com&apos;:   ## Enter Password``Counting objects: 6, done.``Delta compression using up to 8 threads.``Compressing objects: 100% (4/4), done.``Writing objects: 100% (6/6), 528 bytes | 528.00 KiB/s, done.``Total 6 (delta 2), reused 0 (delta 0)``remote: Resolving deltas: 100% (2/2), completed with 1 local object.``To https://github.com/caozhi/repo-for-developerworks.git``   ``075c130..d774ecf  master -&gt; master`</span><br></pre></td></tr></table></figure>
<h3 id="使用-SSH-进行克隆"><a href="#使用-SSH-进行克隆" class="headerlink" title="使用 SSH 进行克隆"></a>使用 SSH 进行克隆</h3><p>使用 SSH 方式进行克隆，需要一步额外的配置 SSH-KEY 的操作。首先需要本地生成一个 SSH Key。我们可以借助 ssh-keygen 工具生成一对 RSA 的秘钥：私钥<code>id_rsa</code> 和公钥 <code>id_rsa.pub</code>。生成的秘钥文件会默认放在 home 目录下的 <code>.ssh</code> 目录下。</p>
<p>先将 <code>id_rsa.pub</code> 公钥文件的内容复制到剪贴板，如图 5 所示，使用 <code>cat id_rsa.pub</code> 命令可以查看公钥内容，随后将该公钥导入到 GitHub 里的账户之下。</p>
<p>在 GitHub 页面右上角的头像里点击展开一个下拉菜单，点击 <strong>Settings</strong> 可以打开个设置页面。</p>
<p>打开 <strong>SSH and GPG keys</strong> 的配置页面，点击右上角的 <strong>New SSH key</strong> 按钮。</p>
<p>在打开的页面中先设置一个您想导入的公钥的名称，再将前面复制的公钥内容粘贴到大文本框中，点击 <strong>Add SSH key</strong> 即可。</p>
<p>页面自动跳转回 <strong>SSH and GPG keys</strong> 设置页面，您可以看到在我的账号下成功新增了一个 SSH Key。</p>
<p>此时我们可以使用 SSH 的方式进行代码克隆，还可以使用 <code>ssh -T</code> 命令检测是否配置成功, 如清单 4 和 5 所示：</p>
<h5 id="清单-4-使用-SSH-方式克隆"><a href="#清单-4-使用-SSH-方式克隆" class="headerlink" title="清单 4. 使用 SSH 方式克隆"></a>清单 4. 使用 SSH 方式克隆</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`caozhi@ $ git clone git@github.com:caozhi/repo-for-developerworks.git``Cloning into &apos;repo-for-developerworks&apos;...``remote: Counting objects: 20, done.``remote: Compressing objects: 100% (12/12), done.``remote: Total 20 (delta 5), reused 10 (delta 2), pack-reused 0``Receiving objects: 100% (20/20), done.``Resolving deltas: 100% (5/5), done.`</span><br></pre></td></tr></table></figure>
<h5 id="清单-5-检测-SSH-是否配置成功"><a href="#清单-5-检测-SSH-是否配置成功" class="headerlink" title="清单 5. 检测 SSH 是否配置成功"></a>清单 5. 检测 SSH 是否配置成功</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`caozhi@bogon:~$ ssh -T git@github.com``Hi caozhi! You&apos;ve successfully authenticated, but GitHub does not provide shell access.`</span><br></pre></td></tr></table></figure>
<p>使用 SSH 的方式进行克隆，将使得我们本地与 GitHub 之间建立了信任连接，也就意味着之后所有需要进行用户认证的地方都不再需要显式地用户名密码认证。例如 <code>git push</code> 会直接通过 SSH 进行认证。经验表明，使用 SSH 的另一个好处是在网络环境较差的情况下，其稳定性要高于 HTTPS 连接。</p>
<p>至此，我们成功地使用 Git 命令行方式克隆了代码库，之后就可以进行正常的日常开发。</p>
<h2 id="使用-Git-克隆远程仓库"><a href="#使用-Git-克隆远程仓库" class="headerlink" title="使用 Git 克隆远程仓库"></a>使用 Git 克隆远程仓库</h2><p>当一个开发者刚进入某一项目，一般来说他所要做的第一件事是克隆远程仓库到本地，以进行本地开发工作。远程仓库可以是来自于 GitHub 或者 GitLab 等代码托管服务，也可以是项目组自己所搭设的 Git 服务器。无论是哪种远程仓库，都可以使用 <code>git clone</code> 命令 <code>git clone &lt;repository&gt; [local_path]</code> 将其从远端克隆到本地。命令中间的 <code>&lt;repository&gt;</code> 根据远端仓库提供的连接方式不同，其形式可能不同，例如：</p>
<ul>
<li>GitHub 的 HTTPS 连接：<br><code>https://github.com/caozhi/repo-for-developerworks.git</code></li>
<li>GitHub 的 SSH 连接：<br><a href="mailto:`git@github.com" target="_blank" rel="noopener">`git@github.com</a>:caozhi/repo-for-developerworks.git`</li>
<li>自建仓库的 SSH 连接：<br><a href="mailto:`git_user@192.168.0.1" target="_blank" rel="noopener">`git_user@192.168.0.1</a>:/usr/local/repo-for-developerworks.git`</li>
</ul>
<p>其中前两种 GitHub 的连接方式，其仓库的连接字符串可以在 GitHub 的对应仓库页面中找到，如前<a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-git-and-github-2/index.html#1%E5%9B%BE2%E6%9F%A5%E7%9C%8BHTTPS%E5%85%8B%E9%9A%86%E9%93%BE%E6%8E%A5outline" target="_blank" rel="noopener">图 2</a> 和<a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-git-and-github-2/index.html#1%E5%9B%BE3%E6%9F%A5%E7%9C%8BSSH%E5%85%8B%E9%9A%86%E9%93%BE%E6%8E%A5outline" target="_blank" rel="noopener">图 3</a>所示。</p>
<p>第三种自建仓库的 URL 一般需要提供远端服务器上的账号、host 和路径。以上面例子中的连接字符串 <a href="mailto:`git_user@192.168.0.1" target="_blank" rel="noopener">`git_user@192.168.0.1</a>:/usr/local/repo-for-developerworks.git` 为例：</p>
<ul>
<li><code>git_user</code> 是服务器上对代码库目录有访问权限的账号。</li>
<li><code>192.168.0.1</code> 是远端服务器的 IP，也可以是主机名或者 URL。</li>
<li><code>/usr/local/repo-for-developerworks.git</code> 是服务器上代码库的根目录。</li>
</ul>
<p><code>git clone</code> 命令中的 <code>local_path</code> 指定了本地想要存放代码库的地址。该参数是可选参数，如果不指定该参数就会在本地新建一个以远程仓库名为命名的目录，然后以该目录为代码库根目录。图 10 展示了在空目录 <code>clone_demo</code> 中执行不带 <code>local_path</code> 参数的 clone 命令：</p>
<p>从截图可以看到，<code>git clone</code> 命令在 <code>clone_demo</code> 目录中创建了一个 <code>repo-for-developerworks</code> 的代码库目录。</p>
<p>从截图可以看到，<code>git clone</code> 命令在 <code>clone_demo</code> 目录中新建了一个我们指定的<code>local_dev-repo</code> 目录，并将其作为本地代码库的根目录。</p>
<p>我们知道一般操作系统将一个英文句点表示当前目录，因此从截图可以看出，当 <code>local_path</code> 指定为当前目录时，<code>git clone</code> 命令会直接将当前目录作为本地代码库的根目录。</p>
<p>当然 Git 还提供其它的连接方式如 File、FTP。感兴趣的读者可以自己使用 Git 搭一个 Git 服务器尝试使用 File 和 FTP 方式进行连接。</p>
<p>默认情况下，<code>git clone</code> 会将远端代码库全部克隆到本地。Git 还支持只克隆特定分支到本地。我们可以使用 <code>git clone -b **branchname** --single-branch git@URL local_path</code> 命令。</p>
<h2 id="Git-的基本配置"><a href="#Git-的基本配置" class="headerlink" title="Git 的基本配置"></a>Git 的基本配置</h2><p>在克隆了代码库之后，我们一般仍需要对 Git 做一些基本的配置才能使用 Git 进行日常工作。Git 配置的作用域主要有三种：System、Global 和 Local，分别对应的配置文件地址为：</p>
<ul>
<li>System：<code>/etc/gitconfig</code>。系统级别有效。</li>
<li>Global：home 目录下的 <code>~/.gitconfig</code> 文件。用户级别有效。</li>
<li>Local：代码库目录的 <code>.git/config</code> 文件。代码库级别有效。</li>
</ul>
<p>另外我们也可以使用 <code>git config --system -l</code>，<code>git config --global -l</code>，<code>git config --local -l</code> 命令分别列出三个作用域下的配置。跟 Linux 操作系统的环境变量配置类似，Git 在执行命令中会首先查看 local 配置，如果没有找到所需配置会再查看 global 配置，最后再查看 system 配置。</p>
<p>在使用 <code>git config</code> 命令进行配置的时候，也可以使用 <code>git config --system</code>，<code>git config --global</code>，<code>git config --local</code> 三种不同的选项来修改不同作用域的配置。</p>
<p>下面介绍一些重要或有用的 Git 配置。</p>
<h3 id="配置-user-信息"><a href="#配置-user-信息" class="headerlink" title="配置 user 信息"></a>配置 user 信息</h3><p>配置 user 信息在 Git 中是十分重要的一个步骤, username 和 email 不能为空，它们将会被记录在每一条该 user 的 commit 信息中。</p>
<p>我们可以配置 <code>user.name</code> 和 <code>user.email</code> 的值来配置 user 信息，如清单 6 所示:</p>
<h5 id="清单-6-配置-user-name-和-user-email"><a href="#清单-6-配置-user-name-和-user-email" class="headerlink" title="清单 6. 配置 user.name 和 user.email"></a>清单 6. 配置 user.name 和 user.email</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`git config --global user.name &quot;caozhi&quot;``git config --global user.email &quot;caozhi0321@gmail.com&quot;`</span><br></pre></td></tr></table></figure>
<p>也可以将上述命令中的 –global改成 –local来修改只对代码库作用域有效的配置。</p>
<h3 id="配置命令的别名"><a href="#配置命令的别名" class="headerlink" title="配置命令的别名"></a>配置命令的别名</h3><p>Git 提供了很多有用的命令，我们可以将一些比较常用的命令设置上别名，提高工作效率。例如我们可以将 <code>git log --abbrev-commit</code> 设置一个别名 <code>lg</code>，使得查看 log 时只需要显示 commit id 的短名称，如: <code>git config --global alias.lg &quot;log --abbrev-commit&quot;</code></p>
<p>设置成功后就可以使用 <code>git lg</code> 来查看 commit 日志。</p>
<p>当然还可以设置一些其它的别名，如清单 7 所示:</p>
<h5 id="清单-7-配置-st-和-cm-别"><a href="#清单-7-配置-st-和-cm-别" class="headerlink" title="清单 7. 配置 st 和 cm 别"></a>清单 7. 配置 st 和 cm 别</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`git config --global alias.st &quot;status&quot;``git config --global alias.cm &quot;commit&quot;`</span><br></pre></td></tr></table></figure>
<p>别名可以根据自己的喜好和习惯去设置。将常用的命令设为短别名将大大提高工作效率。</p>
<h3 id="查看配置"><a href="#查看配置" class="headerlink" title="查看配置"></a>查看配置</h3><p>配置成功后可以使用 <code>git config --global -l</code> 命令查看配置。</p>
<h3 id="使用-Config-文件进行配置"><a href="#使用-Config-文件进行配置" class="headerlink" title="使用 Config 文件进行配置"></a>使用 Config 文件进行配置</h3><p>除了使用命令之外，也可以直接编辑 config 文件进行相关配置。</p>
<h2 id="设置-Git-忽略提交规则"><a href="#设置-Git-忽略提交规则" class="headerlink" title="设置 Git 忽略提交规则"></a>设置 Git 忽略提交规则</h2><p>在进行完代码库克隆和简单的配置之后，接下来我们可以根据项目需要配置一些文件忽略规则。跟大多数的代码库管理工具一样，Git 也可以对不需要被代码库所管理的文件或文件类型进行配置，使得提交代码时，这些文件不会被提交到代码库中。Git 是通过忽略清单<code>.gitignore</code> 文件进行配置的。</p>
<p>通常我们会考虑将如下类型的文件添加到忽略清单中:</p>
<ul>
<li>编译过程的中间文件，例如 <code>*.class</code> 文件、<code>*.o</code> 文件、<code>*.obj</code> 文件等。</li>
<li>外部依赖的包或者工程编译的包，例如 jar 包、lib 包、dll 包或 war 包等。在有的项目实践中，可能会将这类依赖包也放到代码库中进行管理，通常这不是一个很好的策略，因为这样会显著地增加代码库的大小，降低开发者的工作效率。比较合理的方式是通过构建工具的依赖管理功能来管理这些依赖包，例如 Maven、Gradle 等。</li>
<li>编译过程中，通过某种机制自动生成的代码。某些项目中，可能会使用脚本或者 <code>xsd schema</code> 文件来生成代码；这类代码只需要将用于自动生成的脚本或者 schema 文件管理起来即可。</li>
<li>项目的配置文件。同一项目组的不同开发者可能有不同的项目配置，或者配置中包含敏感信息，例如账号密码等，这类配置文件也应该放到 ignore 清单里。</li>
<li>某些 IDE 的工程配置文件，例如 Eclipse 的 <code>setting</code> 和 <code>project</code> 文件、Idea 的<code>.idea</code> 目录等。</li>
<li>一些自动生成的系统文件，例如 Windows 的 <code>Thumbs.db</code> 或者 MacOS 的<code>.DS_Store</code> 文件等。</li>
<li>项目或者 IDE 的日志文件。</li>
</ul>
<p><code>.gitignore</code> 文件每行表示一个匹配模式（<code>#</code> 开头的行或者空行除外，<code>#</code> 用于注释）。它使用 glob 模式来进行匹配，glob 模式是一种简化的正则表达式，常用于来进行路径的模式匹配。我们可以在代码库的根目录或者任意子目录添加<code>.gitignore</code> 文件，特定目录下的<code>.gitignore</code> 文件使得忽略规则只在该目录及其子目录下有效。表 1 列出了常用的一些匹配模式的写法：</p>
<h5 id="表-1-常用匹配模式"><a href="#表-1-常用匹配模式" class="headerlink" title="表 1. 常用匹配模式"></a>表 1. 常用匹配模式</h5><table>
<thead>
<tr>
<th><strong>模式</strong></th>
<th><strong>含义</strong></th>
<th><strong>示例</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>完整路径</td>
<td>忽略完整路径所定义的文件</td>
<td><code>dev/dev.conf</code></td>
</tr>
<tr>
<td>/path</td>
<td>以 / 开头，只匹配当前目录下路径为 path 的文件</td>
<td><code>/a.java /a.cpp</code></td>
</tr>
<tr>
<td>path</td>
<td>不以 / 开头，匹配当前目录及其子目录下所有文件</td>
<td><code>*.o web.xml</code></td>
</tr>
<tr>
<td>path/</td>
<td>以 / 结尾，用以只匹配目录；path 目录及其子目录和文件会被忽略；如果 path 是个文件，则不会被忽略</td>
<td><code>.settings/</code></td>
</tr>
<tr>
<td>带 * 号的模式</td>
<td>置于文件中，用于匹配所有满足规则的文件</td>
<td><code>*.zip *.jar</code></td>
</tr>
<tr>
<td>带 ** 的模式</td>
<td>置于路径中，用于匹配满足 ** 前后的所有路径</td>
<td><code>Dev/**/dev.conf**/*.jar</code></td>
</tr>
<tr>
<td>!path</td>
<td>在 ignore 文件中如果前面已经定义了某个模式，但是又有一些特殊文件我们不想被忽略，我们可以用 ! 来匹配</td>
<td><code>*.jar ##</code> 忽略所有 jar 包 <code>!server.jar ##</code>希望 <code>server.jar</code>仍被跟踪</td>
</tr>
</tbody>
</table>
<p>注意：</p>
<ul>
<li><p>当某个文件已经被提交到代码库中被 Git 所管理起来之后，将该文件再添加进 <code>.gitignore</code> 文件是无效的，对该文件进行修改时，执行 <code>git status</code> 操作之后仍然会提示该文件已被修改。针对已经提交代码库的文件我们又想忽略其修改的场景，将会在本系列第四篇文章中介绍。</p>
</li>
<li><p>每个目录下都可以放单独的 <code>.gitignore</code> 文件以控制子目录的忽略规则。</p>
</li>
<li><p>即使已经在忽略列表里，当我们确实想要提交一些符合忽略规则的文件时，仍可以使用 <code>git -f add</code> 加具体的文件路径的方式将这些文件提交到库中。</p>
</li>
</ul>
<ul>
<li>GitHub 有一个十分详细的针对数十种项目及语言的 <code>.gitignore</code> 文件列表模板，可以在 <a href="https://github.com/github/gitignore" target="_blank" rel="noopener">https://github.com/github/gitignore</a> 找到它。</li>
</ul>
<h2 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h2><p>为使用 Git 和 GitHub 进行日常开发做准备，本文详细通过一些列演示向读者讲解了如何采用 SSH 和 HTTPS 两种方式从 GitHub 克隆代码库，如何进行本地 Git 开发环境的基础配置，如何配置 <code>.gitignore</code> 文件等。相信您在阅读完本文之后将有能力自己初始化一套本地的 Git 环境。</p>

    </div>
    
        <div class="reward" ontouchstart="">
    <div class="reward-wrap">赏
        <div class="reward-box">
            
            
                <span class="reward-type">
                    <img class="wechat" src="/img/wechatpay.jpg"><b>微信打赏</b>
                </span>
            
        </div>
    </div>
    <p class="reward-tip">坚持原创分享，您的支持将鼓励我继续创作！</p>
</div>


    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="" target="_blank">Mark</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/uncategorized/Git实用教程/" class="pre-post btn btn-default" title="">
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs"></span>
        </a>
    
    
        <a href="/DevOps/Azure上的Terraform文档/" class="next-post btn btn-default" title="Azure上的Terraform文档">
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">Azure上的Terraform文档</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: 'undefined',
            appKey: 'undefined',
            placeholder: '说点什么吧',
            notify: false,
            verify: false,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'null'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">Table of Contents</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装-Git"><span class="toc-text">安装 Git</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#清单-1-Mac-和-Linux-下安装-Git"><span class="toc-text">清单 1. Mac 和 Linux 下安装 Git</span></a></li></ol></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#使用-Git-克隆-GitHub-代码库"><span class="toc-text">使用 Git 克隆 GitHub 代码库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-HTTPS-进行克隆"><span class="toc-text">使用 HTTPS 进行克隆</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#清单-2-使用-HTTPS-进行克隆"><span class="toc-text">清单 2. 使用 HTTPS 进行克隆</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#清单-3-HTTPS-方式下-push-代码"><span class="toc-text">清单 3. HTTPS 方式下 push 代码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-SSH-进行克隆"><span class="toc-text">使用 SSH 进行克隆</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#清单-4-使用-SSH-方式克隆"><span class="toc-text">清单 4. 使用 SSH 方式克隆</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#清单-5-检测-SSH-是否配置成功"><span class="toc-text">清单 5. 检测 SSH 是否配置成功</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用-Git-克隆远程仓库"><span class="toc-text">使用 Git 克隆远程仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Git-的基本配置"><span class="toc-text">Git 的基本配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#配置-user-信息"><span class="toc-text">配置 user 信息</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#清单-6-配置-user-name-和-user-email"><span class="toc-text">清单 6. 配置 user.name 和 user.email</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置命令的别名"><span class="toc-text">配置命令的别名</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#清单-7-配置-st-和-cm-别"><span class="toc-text">清单 7. 配置 st 和 cm 别</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查看配置"><span class="toc-text">查看配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-Config-文件进行配置"><span class="toc-text">使用 Config 文件进行配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设置-Git-忽略提交规则"><span class="toc-text">设置 Git 忽略提交规则</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#表-1-常用匹配模式"><span class="toc-text">表 1. 常用匹配模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#结束语"><span class="toc-text">结束语</span></a></li>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2017
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>







<script src="/js/app.js?rev=@@hash"></script>

</body>
</html>